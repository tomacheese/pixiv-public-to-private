# AGENTS.md

## 目的

このドキュメントは、このリポジトリで作業するすべての AI エージェント（GitHub Copilot, Claude Code, Gemini CLI など）に共通する基本方針を定義します。

## 基本方針

- **言語**: エージェントとの対話およびコード内のコメントは日本語で行う。
- **エラーメッセージ**: 原則として英語で記載する。
- **表記**: 日本語と英数字の間には半角スペースを挿入する。
- **コミットメッセージ**: [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) に従い、`<description>` は日本語で記載する。
- **ブランチ命名**: [Conventional Branch](https://conventional-branch.github.io) に従い、短縮形（`feat/`, `fix/`）を使用する。

## 判断記録のルール

作業において重要な技術的選択や設計上の判断を行った場合は、以下の項目を記録・明示してください：

1. **判断内容**: 何を決定したか
2. **代替案**: 他にどのような選択肢があったか
3. **採用理由**: なぜその案を選択したか
4. **前提条件・不確実性**: どのような仮定に基づいているか

## 開発手順

1. **プロジェクト理解**: `package.json` や `README.md` を読み、技術スタックとプロジェクトの目的を把握する。
2. **依存関係インストール**: 指定されたパッケージマネージャー（このプロジェクトでは `pnpm`）を使用してインストールを行う。
3. **実装**: 既存のコーディング規約（Prettier, ESLint）に従い、docstring を含めて実装を行う。
4. **検証**: `pnpm lint` および実際の動作確認を行い、品質を担保する。

## セキュリティ / 機密情報

- `data/token.json` などの認証情報、API キー、個人情報をコードやコミットに含めてはならない。
- ログ出力に機密情報が含まれないよう細心の注意を払う。

## リポジトリ固有事項

- このプロジェクトは pixiv API を利用するため、`@book000/pixivts` の仕様に依存している。
- ブックマークの非公開化という、ユーザーのデータを変更する処理を行うため、破壊的な変更には特に注意が必要である。
